# Курсовая работа «ТГ-чат-бот «Обучалка английскому языку»» по курсу «Базы данных»

#### Схема БД

![chematic_db.png](chematic_db.png)
___
Мануал для работы с ботом, пожалуйста выполните все пункты в указанном порядке:

__1.__ Откройте файл [config.ini](config.ini) и добавьте поочередно Ваш DNS в формате __(postgresql://<имя пользователя>:<пароль>@<хост>:<порт>/<имя базы>)__ и ваш Токен от телеграмм бота:
- dns = 'путь в кашей БД в указанном формате'
- token = 'ваш токен от Telegramm бота'
 
 Не забудьте сохранить файл перед началом работы.

__2.__ Запустите файл [db_main.py](db_main.py) для создания стартовой базы (будут созданы таблицы указанные на схеме), а также добавлено 30 базовых слов.

##### ВНИМАНИЕ!
Если вы закроете файл и снова его запустите стартовая база данных будет создана снова! Это сделано для полной очистки БД от данных, записанных в процессе выполнения программы:
Слова, добавленные пользователями и данные о пользователях.

__3.__ Запустите файл [bot.py](bot.py). При этом происходит подключение по указанным вами данных из файла config.ini. При возникновении ошибок подключения пожалуйста проверьте данные.

__4.__ Запускаете Telegram-бота командой "/start".

__5.__ Бот предлагает вам перевести слово на русском языке, для этого надо выбрать кнопку которая соответствует правильному переводу, при неверном ответе предлагается сделать еще одну попытку. После указания правильного перевода можно перейти к следующему слову кнопкой "Далее".

__6.__ Добавление нового слова:
Также в боте предусмотрена возможность добавить новое слово в словарь, для этого необходимо нажать на кнопку "ДОБАВИТЬ СЛОВО", после переходим к добавлению в таблицу своей пары слов: слово на английском языке - его перевод на русском языке. 

##### ВНИМАНИЕ!
Вставлять слова необходимо через пробел!
Обратите внимание, что добавить можно только те слова, которые отсутствуют в базе данных. Если такое слово уже есть в базе данных, оно не добавится повторно.

__7.__ Удаление слова:
Для того чтобы удалить слово нажмите на кнопку "УДАЛИТЬ СЛОВО", будет осуществлен переход к удалению из таблицы пары слов: слово на английском языке - его перевод на русском языке. Для этого вставляем удаляемое слово на русском __ИЛИ__ английском языке.

##### ВНИМАНИЕ!
Пользователь может удалить только те пары слов, которые добавил сам.
___
## Состав проекта:

- [config.ini](config.ini) - файл для добавление пользовательской информации.
- [db_main.py](db_main.py) - создание стартовой БД.
- [bot.py](bot.py) - файл для подключения и работы Telegram-бота.
- [data.json](data.json) - файл со стартовым словарем из 30 слов.
- [db_models.py](db_models.py) - чтение и запись в БД.
- [fsm_forms.py](fsm_forms.py) - удаление и добавление слов.
- [handlers.py](handlers.py) - хендлеры.
- [keyboards.py](keyboards.py) - кнопочки.
- [requirements.txt](requirements.txt) - файл с зависимостями.
- [readme.md](readme.md) - документация по использованию программы.
- [checking_tasks.md](checking_tasks.md) - файл для проверки соответствия поставленному ТЗ.
